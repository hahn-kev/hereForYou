<ng-container *appToolbarContent>
  <ng-container *requireRole="'admin'">
    <button md-icon-button [hidden]="editing" md-tooltip="Edit" (click)="edit()">
      <md-icon>edit</md-icon>
    </button>
    <button md-icon-button [hidden]="!editing" md-tooltip="Discard changes" (click)="revert()">
      <md-icon>close</md-icon>
    </button>
    <button md-icon-button [hidden]="!editing" md-tooltip="Save" (click)="saveChanges()">
      <md-icon>save</md-icon>
    </button>
  </ng-container>
</ng-container>

<div *ngIf="page" class="cms">
  <md-form-field *ngIf="editing">
    <textarea rows="10" cols="80" mdInput [(ngModel)]="page.content" placeholder="Markdown"></textarea>
  </md-form-field>
  <md-card>
    <markdown [data]="page.content"></markdown>
    <md-card-footer>
      last edited by {{page.updatedBy}} on {{page.lastUpdated | date: 'short'}}
    </md-card-footer>
  </md-card>
</div>

